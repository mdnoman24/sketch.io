<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Teacher Panel â€“ Sketch to Vision Classroom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="min-h-screen bg-gray-900 text-gray-100">
    <div class="min-h-screen flex flex-col">
      <header class="bg-gray-900 border-b border-gray-800 px-6 py-4 flex items-center justify-between">
        <h1 class="text-xl font-semibold">Teacher Panel</h1>
        <div class="flex gap-2 items-center">
          <a
            href="{{ url_for('dashboard') }}"
            class="px-3 py-2 text-xs font-medium rounded-md bg-gray-800 hover:bg-gray-700 border border-gray-700"
          >
            Student View
          </a>
          <a
            href="{{ url_for('register') }}"
            class="px-3 py-2 text-xs font-medium rounded-md bg-pink-600 hover:bg-pink-500"
          >
            Add Student
          </a>
          <a
            href="{{ url_for('logout') }}"
            class="px-3 py-2 text-xs font-medium rounded-md bg-gray-800 hover:bg-gray-700 border border-gray-700"
          >
            Logout
          </a>
        </div>
      </header>

      <main class="flex-1 p-6">
        <h2 class="text-lg font-semibold mb-4">Class Overview</h2>

        <div class="overflow-x-auto border border-gray-800 rounded-lg">
          <table class="min-w-full text-sm">
            <thead class="bg-gray-800/60">
              <tr>
                <th class="text-left px-4 py-2 border-b border-gray-800">User</th>
                <th class="text-left px-4 py-2 border-b border-gray-800">Role</th>
                <th class="text-left px-4 py-2 border-b border-gray-800">Conversations</th>
                <th class="text-left px-4 py-2 border-b border-gray-800">Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for u in users %}
                <tr class="odd:bg-gray-900 even:bg-gray-900/60">
                  <td class="px-4 py-2 border-b border-gray-800">
                    {{ u["username"] }}
                  </td>
                  <td class="px-4 py-2 border-b border-gray-800">
                    {% if u["is_teacher"] %}
                      <span class="px-2 py-0.5 text-[10px] rounded-full bg-pink-600/20 text-pink-300 border border-pink-500/40">
                        TEACHER
                      </span>
                    {% else %}
                      <span class="px-2 py-0.5 text-[10px] rounded-full bg-gray-700/40 text-gray-200 border border-gray-600">
                        STUDENT
                      </span>
                    {% endif %}
                  </td>
                  <td class="px-4 py-2 border-b border-gray-800">
                    {{ u["convo_count"] }}
                  </td>
                  <td class="px-4 py-2 border-b border-gray-800">
                    <a
                      href="{{ url_for('teacher_user_view', user_id=u['id']) }}"
                      class="text-xs text-pink-400 hover:text-pink-300"
                    >
                      View work
                    </a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </main>
    </div>
  </body>
</html>
